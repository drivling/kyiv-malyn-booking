# üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Telegram Login –¥–ª—è @malin_kiev_ua_bot

## ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è

–í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç TelegramLoginButton –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ –æ—Ñ—ñ—Ü—ñ–π–Ω–æ–≥–æ API Telegram:

**–ë—É–ª–æ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):**
```javascript
script.setAttribute('data-onauth', 'TelegramLoginWidget.dataOnauth(user)');
```

**–°—Ç–∞–ª–æ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):**
```javascript
window.onTelegramAuth = (user) => { onAuth(user); };
script.setAttribute('data-onauth', 'onTelegramAuth(user)');
```

---

## ü§ñ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–æ—Ç–∞ –≤ BotFather

### –ö—Ä–æ–∫ 1: –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –¥–æ–º–µ–Ω –¥–ª—è –±–æ—Ç–∞

–í—ñ–¥–∫—Ä–∏–π—Ç–µ [@BotFather](https://t.me/BotFather) –≤ Telegram —ñ –≤–∏–∫–æ–Ω–∞–π—Ç–µ:

```
/setdomain
```

1. –û–±–µ—Ä—ñ—Ç—å –±–æ—Ç–∞: **@malin_kiev_ua_bot**
2. –í–≤–µ–¥—ñ—Ç—å –¥–æ–º–µ–Ω: **malin.kiev.ua**

**–í–∞–∂–ª–∏–≤–æ:** –î–æ–º–µ–Ω –º–∞—î –±—É—Ç–∏ –±–µ–∑ `https://` —Ç–∞ –±–µ–∑ `/`

---

### –ö—Ä–æ–∫ 2: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

–í—ñ–¥–ø—Ä–∞–≤—Ç–µ –∫–æ–º–∞–Ω–¥—É:
```
/mybots
```

1. –û–±–µ—Ä—ñ—Ç—å **@malin_kiev_ua_bot**
2. Bot Settings ‚Üí Domain
3. –ú–∞—î –±—É—Ç–∏ –≤–∫–∞–∑–∞–Ω–æ: **malin.kiev.ua**

---

## üìù –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ .env —Ñ–∞–π–ª—É

–§–∞–π–ª `frontend/.env`:
```bash
VITE_TELEGRAM_BOT_USERNAME=malin_kiev_ua_bot
```

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ!** (–±–µ–∑ @ –Ω–∞ –ø–æ—á–∞—Ç–∫—É)

---

## üß™ –Ø–∫ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ –ø—Ä–∞—Ü—é—î

### –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º—É —Å–µ—Ä–≤–µ—Ä—ñ:

1. –ó–∞–ø—É—Å—Ç—ñ—Ç—å:
   ```bash
   cd frontend
   npm run dev
   ```

2. –í—ñ–¥–∫—Ä–∏–π—Ç–µ: `http://localhost:5173`

3. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É –õ–æ–≥—ñ–Ω ‚Üí "–í—Ö—ñ–¥ —á–µ—Ä–µ–∑ Telegram"

4. **–û—á—ñ–∫—É–≤–∞–Ω–∞ –ø–æ–≤–µ–¥—ñ–Ω–∫–∞:**
   - –ú–∞—î –∑'—è–≤–∏—Ç–∏—Å—è —Å–∏–Ω—è –∫–Ω–æ–ø–∫–∞ "Login with Telegram"
   - –ü—Ä–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ –≤—ñ–¥–∫—Ä–∏—î—Ç—å—Å—è —Å–ø–ª–∏–≤–∞—é—á–µ –≤—ñ–∫–Ω–æ Telegram
   - –ü—ñ—Å–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó –º–∞—î —Å–ø—Ä–∞—Ü—é–≤–∞—Ç–∏ callback

### –ù–∞ production (malin.kiev.ua):

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ: https://malin.kiev.ua/login

2. –û–±–µ—Ä—ñ—Ç—å "üì± –í—Ö—ñ–¥ —á–µ—Ä–µ–∑ Telegram"

3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –∫–Ω–æ–ø–∫—É "Login with Telegram"

4. **–Ø–∫—â–æ –ø—Ä–∞—Ü—é—î:**
   - ‚úÖ –í—ñ–¥–∫—Ä–∏–≤–∞—î—Ç—å—Å—è —Å–ø–ª–∏–≤–∞—é—á–µ –≤—ñ–∫–Ω–æ
   - ‚úÖ –ü–æ–∫–∞–∑—É—î "Login to malin.kiev.ua?"
   - ‚úÖ –ü—ñ—Å–ª—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—î –Ω–∞ –≥–æ–ª–æ–≤–Ω—É –∑ –Ω–æ–º–µ—Ä–æ–º

5. **–Ø–∫—â–æ –ù–ï –ø—Ä–∞—Ü—é—î:**
   - ‚ùå –ö–Ω–æ–ø–∫–∞ –Ω–µ –∑'—è–≤–ª—è—î—Ç—å—Å—è
   - ‚ùå –ü–æ–º–∏–ª–∫–∞ "Domain not allowed"
   - ‚ùå –ù—ñ—á–æ–≥–æ –Ω–µ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –ø—Ä–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ

---

## üîç –î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –ö–Ω–æ–ø–∫–∞ –Ω–µ –∑'—è–≤–ª—è—î—Ç—å—Å—è

**–ü—Ä–∏—á–∏–Ω–∞:** Telegram widget –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è

**–†—ñ—à–µ–Ω–Ω—è:**
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ DevTools (F12) ‚Üí Console
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —á–∏ —î –ø–æ–º–∏–ª–∫–∏
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —á–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è `telegram-widget.js`

### –ü—Ä–æ–±–ª–µ–º–∞ 2: "Domain not allowed"

**–ü—Ä–∏—á–∏–Ω–∞:** –î–æ–º–µ–Ω –Ω–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π –≤ BotFather

**–†—ñ—à–µ–Ω–Ω—è:**
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ @BotFather
2. `/setdomain` ‚Üí @malin_kiev_ua_bot ‚Üí malin.kiev.ua
3. –ü–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ —Å—Ç–æ—Ä—ñ–Ω–∫—É

### –ü—Ä–æ–±–ª–µ–º–∞ 3: Callback –Ω–µ —Å–ø—Ä–∞—Ü—å–æ–≤—É—î

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å callback

**–†—ñ—à–µ–Ω–Ω—è:** ‚úÖ –í–∂–µ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ –æ—Å—Ç–∞–Ω–Ω—å–æ–º—É –∫–æ–º—ñ—Ç—ñ!

---

## üìã Checklist –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ—î–º

- [ ] BotFather: `/setdomain` ‚Üí malin.kiev.ua
- [ ] Railway Variables: `VITE_TELEGRAM_BOT_USERNAME=malin_kiev_ua_bot`
- [ ] frontend/.env: `VITE_TELEGRAM_BOT_USERNAME=malin_kiev_ua_bot`
- [ ] –ö–æ–¥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É –æ–Ω–æ–≤–ª–µ–Ω–æ (–æ—Å—Ç–∞–Ω–Ω—ñ–π –∫–æ–º—ñ—Ç)
- [ ] Frontend –ø–µ—Ä–µ–±—É–¥–æ–≤–∞–Ω–æ: `npm run build`
- [ ] –ó–∞–¥–µ–ø–ª–æ—î–Ω–æ –Ω–∞ Railway

---

## üéØ –û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü—ñ—Å–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:

1. –ù–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ –ª–æ–≥—ñ–Ω—É –∑'—è–≤–ª—è—î—Ç—å—Å—è **—Å–∏–Ω—è –∫–Ω–æ–ø–∫–∞ Telegram**
2. –ü—Ä–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ **–≤—ñ–¥–∫—Ä–∏–≤–∞—î—Ç—å—Å—è —Å–ø–ª–∏–≤–∞—é—á–µ –≤—ñ–∫–Ω–æ**
3. –ü—ñ—Å–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó **–Ω–æ–º–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø–æ–≤–Ω—é—î—Ç—å—Å—è**
4. –í –º–µ–Ω—é –ø–æ–∫–∞–∑—É—î—Ç—å—Å—è **üì± +380XXXXXXXXX**
5. –ü—Ä–∏ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—ñ **–ø–æ–ª–µ —Ç–µ–ª–µ—Ñ–æ–Ω—É –≤–∂–µ –∑–∞–ø–æ–≤–Ω–µ–Ω–µ**

---

## ‚ö†Ô∏è –í–∞–∂–ª–∏–≤—ñ –Ω–æ—Ç–∞—Ç–∫–∏

1. **HTTPS –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π** –¥–ª—è Telegram Login (–Ω–∞ production)
2. **–î–æ–º–µ–Ω –º–∞—î —Å–ø—ñ–≤–ø–∞–¥–∞—Ç–∏** –∑ —Ç–∏–º —â–æ –≤ BotFather
3. **Username –±–æ—Ç–∞** –º–∞—î –±—É—Ç–∏ –±–µ–∑ @ 
4. **Callback —Ñ—É–Ω–∫—Ü—ñ—è** –º–∞—î –±—É—Ç–∏ –≥–ª–æ–±–∞–ª—å–Ω–æ—é (window.onTelegramAuth)

---

**–í–µ—Ä—Å—ñ—è:** 3.1 (Fixed)  
**–î–∞—Ç–∞:** 27.01.2026
