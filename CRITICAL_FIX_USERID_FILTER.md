# –ö—Ä–∏—Ç–∏—á–Ω–µ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è: —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è telegramUserId = '0'

## üö® –ö—Ä–∏—Ç–∏—á–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞

–ü–æ–ø–µ—Ä–µ–¥–Ω—î –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è **–ù–ï –ü–†–ê–¶–Æ–í–ê–õ–û** —á–µ—Ä–µ–∑ –ø–æ–º–∏–ª–∫—É —É —Ñ—ñ–ª—å—Ç—Ä—ñ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö!

### –©–æ –±—É–ª–æ –Ω–µ —Ç–∞–∫:

```typescript
// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û - —Ü–µ–π —Ñ—ñ–ª—å—Ç—Ä –ù–ï –≤–∏–∫–ª—é—á–∞—î '0'!
const allBookings = await prisma.booking.findMany({
  where: {
    telegramUserId: { not: null } // '0' –ø—Ä–æ—Ö–æ–¥–∏—Ç—å —Ü—é –ø–µ—Ä–µ–≤—ñ—Ä–∫—É! ‚ùå
  }
});
```

**–ü—Ä–æ–±–ª–µ–º–∞:** 
- `{ not: null }` –ø–µ—Ä–µ–≤—ñ—Ä—è—î —Ç—ñ–ª—å–∫–∏ –Ω–∞ `null`
- `'0'` - —Ü–µ **–Ω–µ** `null`, —Ü–µ –≤–∞–ª—ñ–¥–Ω–∏–π —Ä—è–¥–æ–∫
- –¢–æ–º—É –∑–∞–ø–∏—Ç –∑–Ω–∞—Ö–æ–¥–∏–≤ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –∑ `userId = '0'`
- –Ü –∫–æ–ø—ñ—é–≤–∞–≤ —Ü–µ –Ω–µ–≤–∞–ª—ñ–¥–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è –≤ –Ω–æ–≤—ñ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
–¶–∏–∫–ª –Ω–µ–≤–∞–ª—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö:
–°—Ç–∞—Ä–µ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è: userId='0' 
  ‚Üí –ö–æ–ø—ñ—é—î—Ç—å—Å—è –≤ –Ω–æ–≤–µ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è: userId='0'
    ‚Üí –ó–Ω–æ–≤—É –∫–æ–ø—ñ—é—î—Ç—å—Å—è: userId='0'
      ‚Üí –Ü —Ç–∞–∫ –¥–∞–ª—ñ –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–æ ‚ùå
```

---

## ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è

### 1. –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ —Ñ—ñ–ª—å—Ç—Ä –¥–ª—è –≤–∏–∫–ª—é—á–µ–Ω–Ω—è –Ω–µ–≤–∞–ª—ñ–¥–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω—å

```typescript
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û - –≤–∏–∫–ª—é—á–∞—î null, '0', '' —Ç–∞ ' '
const allBookings = await prisma.booking.findMany({
  where: {
    telegramUserId: { 
      not: null,
      notIn: ['0', '', ' ']  // ‚úÖ –í–∏–∫–ª—é—á–∞—î–º–æ –Ω–µ–≤–∞–ª—ñ–¥–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è
    }
  },
  orderBy: { createdAt: 'desc' }
});
```

**–Ø–∫ –ø—Ä–∞—Ü—é—î:**
- `not: null` - –≤–∏–∫–ª—é—á–∞—î `null`
- `notIn: ['0', '', ' ']` - –≤–∏–∫–ª—é—á–∞—î —Ä—è–¥–∫–∏ `'0'`, –ø–æ—Ä–æ–∂–Ω—ñ —Ç–∞ –ø—Ä–æ–±—ñ–ª–∏
- –¢–µ–ø–µ—Ä –∑–∞–ø–∏—Ç –∑–Ω–∞—Ö–æ–¥–∏—Ç—å **—Ç—ñ–ª—å–∫–∏** –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –∑ –≤–∞–ª—ñ–¥–Ω–∏–º `userId`

---

### 2. –î–æ–¥–∞–Ω–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è chatId –ø—Ä–∏ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—ñ

```typescript
// –ö–æ–ø—ñ—é—î–º–æ chatId —Ç—ñ–ª—å–∫–∏ —è–∫—â–æ –≤—ñ–Ω –≤–∞–ª—ñ–¥–Ω–∏–π
if (previousBooking.telegramChatId && 
    previousBooking.telegramChatId !== '0' && 
    previousBooking.telegramChatId.trim() !== '') {
  telegramChatId = previousBooking.telegramChatId;
} else {
  console.log(`‚ö†Ô∏è –ü–æ–ø–µ—Ä–µ–¥–Ω—î –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –º–∞—î –Ω–µ–≤–∞–ª—ñ–¥–Ω–∏–π chatId: ${previousBooking.telegramChatId}`);
}
```

---

### 3. –§—ñ–Ω–∞–ª—å–Ω–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è –ø–µ—Ä–µ–¥ –∑–∞–ø–∏—Å–æ–º

```typescript
// –î–æ–¥–∞—Ç–∫–æ–≤–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è –ø–µ—Ä–µ–¥ –∑–∞–ø–∏—Å–æ–º
if (telegramChatId === '0' || telegramChatId === '') {
  console.log(`‚ö†Ô∏è –ù–µ–≤–∞–ª—ñ–¥–Ω–∏–π telegramChatId (${telegramChatId}), –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ null`);
  telegramChatId = null;
}
if (bookingTelegramUserId === '0' || bookingTelegramUserId === '') {
  console.log(`‚ö†Ô∏è –ù–µ–≤–∞–ª—ñ–¥–Ω–∏–π telegramUserId (${bookingTelegramUserId}), –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ null`);
  bookingTelegramUserId = null;
}
```

**–ó–∞—Ö–∏—Å—Ç –Ω–∞ –≤—Å—ñ—Ö —Ä—ñ–≤–Ω—è—Ö:**
1. –§—ñ–ª—å—Ç—Ä –ë–î - –Ω–µ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å –Ω–µ–≤–∞–ª—ñ–¥–Ω—ñ –∑–∞–ø–∏—Å–∏
2. –í–∞–ª—ñ–¥–∞—Ü—ñ—è –ø—Ä–∏ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—ñ - –Ω–µ –∫–æ–ø—ñ—é—î –Ω–µ–≤–∞–ª—ñ–¥–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è
3. –§—ñ–Ω–∞–ª—å–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ - –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î `null` –∑–∞–º—ñ—Å—Ç—å –Ω–µ–≤–∞–ª—ñ–¥–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω—å

---

## üìù –î–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è

–î–æ–¥–∞–Ω–æ –ª–æ–≥—É–≤–∞–Ω–Ω—è –Ω–∞ –∫–æ–∂–Ω–æ–º—É –µ—Ç–∞–ø—ñ –¥–ª—è –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:

```typescript
// üîç –ü–æ—à—É–∫
console.log(`üîç –ü–æ—à—É–∫ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ—Ö –±—Ä–æ–Ω—é–≤–∞–Ω—å –¥–ª—è –Ω–æ–º–µ—Ä–∞: ${phone}`);
console.log(`üìã –ó–Ω–∞–π–¥–µ–Ω–æ ${allBookings.length} –±—Ä–æ–Ω—é–≤–∞–Ω—å –∑ –≤–∞–ª—ñ–¥–Ω–∏–º telegramUserId`);

// ‚úÖ –ó–Ω–∞–π–¥–µ–Ω–æ
if (previousBooking) {
  console.log(`‚úÖ –ó–Ω–∞–π–¥–µ–Ω–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—î –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è #${previousBooking.id}:`, {
    chatId: previousBooking.telegramChatId,
    userId: previousBooking.telegramUserId
  });
}

// ‚ö†Ô∏è –ü–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è
console.log(`‚ö†Ô∏è telegramUserId –±—É–≤ –Ω–µ–≤–∞–ª—ñ–¥–Ω–∏–π, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ chatId —è–∫ userId`);

// üìù –©–æ –∑–∞–ø–∏—Å—É—î—Ç—å—Å—è
console.log(`üìù –°—Ç–≤–æ—Ä—é—î–º–æ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –∑ Telegram –¥–∞–Ω–∏–º–∏:`, {
  chatId: telegramChatId,
  userId: bookingTelegramUserId,
  phone: phone
});
```

---

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –ö—Ä–æ–∫ 1: –í–∏–ø—Ä–∞–≤–∏—Ç–∏ —ñ—Å–Ω—É—é—á—ñ –∑–∞–ø–∏—Å–∏

**–í–ê–ñ–õ–ò–í–û:** –°–ø–æ—á–∞—Ç–∫—É –≤–∏–ø—Ä–∞–≤—Ç–µ –≤—Å—ñ —Å—Ç–∞—Ä—ñ –∑–∞–ø–∏—Å–∏ –∑ `userId='0'`!

```bash
# 1. –û—Ç—Ä–∏–º–∞—Ç–∏ admin token
curl -X POST https://backend-production-7686.up.railway.app/admin/login \
  -H "Content-Type: application/json" \
  -d '{"password": "your-password"}'

# 2. –í–∏–ø—Ä–∞–≤–∏—Ç–∏ —Å—Ç–∞—Ä—ñ –∑–∞–ø–∏—Å–∏
curl -X POST https://backend-production-7686.up.railway.app/admin/fix-telegram-ids \
  -H "Authorization: Bearer <admin-token>"
```

**–û—á—ñ–∫—É–≤–∞–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "success": true,
  "fixed": 5,
  "details": [
    "‚úÖ #40: telegramUserId –æ–Ω–æ–≤–ª–µ–Ω–æ –∑ '0' –Ω–∞ '5072659044'",
    ...
  ]
}
```

---

### –ö—Ä–æ–∫ 2: –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ç–µ—Å—Ç–æ–≤–µ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è

1. **–í—ñ–¥–∫—Ä–∏–π—Ç–µ —Å–∞–π—Ç –≤ –∞–Ω–æ–Ω—ñ–º–Ω–æ–º—É –±—Ä–∞—É–∑–µ—Ä—ñ** (–±–µ–∑ Telegram Login)
2. **–í–≤–µ–¥—ñ—Ç—å –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É** —è–∫–∏–π –≤–∂–µ –±—É–≤ —Ä–∞–Ω—ñ—à–µ –ø—Ä–∏–≤'—è–∑–∞–Ω–∏–π –¥–æ Telegram
3. **–°—Ç–≤–æ—Ä—ñ—Ç—å –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è**
4. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ –Ω–∞ Railway** ‚Üí Backend ‚Üí Logs

**–û—á—ñ–∫—É–≤–∞–Ω—ñ –ª–æ–≥–∏:**
```
üîç –ü–æ—à—É–∫ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ—Ö –±—Ä–æ–Ω—é–≤–∞–Ω—å –¥–ª—è –Ω–æ–º–µ—Ä–∞: +380501234567
üìã –ó–Ω–∞–π–¥–µ–Ω–æ 2 –±—Ä–æ–Ω—é–≤–∞–Ω—å –∑ –≤–∞–ª—ñ–¥–Ω–∏–º telegramUserId
‚úÖ –ó–Ω–∞–π–¥–µ–Ω–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—î –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è #40: { chatId: '5072659044', userId: '5072659044' }
‚úÖ –ó–Ω–∞–π–¥–µ–Ω–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—î –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –¥–ª—è +380501234567, –∫–æ–ø—ñ—é—î–º–æ Telegram –¥–∞–Ω—ñ (chatId: 5072659044, userId: 5072659044)
üìù –°—Ç–≤–æ—Ä—é—î–º–æ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –∑ Telegram –¥–∞–Ω–∏–º–∏: { chatId: '5072659044', userId: '5072659044', phone: '+380501234567' }
```

---

### –ö—Ä–æ–∫ 3: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≤ –ë–î

**Railway Dashboard ‚Üí Database ‚Üí Query:**

```sql
SELECT id, phone, telegramChatId, telegramUserId 
FROM Booking 
WHERE phone = '+380501234567'
ORDER BY createdAt DESC 
LIMIT 3;
```

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
| id | phone | telegramChatId | telegramUserId |
|----|-------|----------------|----------------|
| 42 | +380... | 5072659044 ‚úÖ | 5072659044 ‚úÖ |
| 41 | +380... | 5072659044 ‚úÖ | 5072659044 ‚úÖ |
| 40 | +380... | 5072659044 ‚úÖ | 5072659044 ‚úÖ |

**–í—Å—ñ –∑–∞–ø–∏—Å–∏ —Ç–µ–ø–µ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω—ñ!** üéâ

---

### –ö—Ä–æ–∫ 4: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≤ –±–æ—Ç—ñ

```
/mybookings
```

**–ú–∞—î –ø–æ–∫–∞–∑–∞—Ç–∏ –≤—Å—ñ 3 –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è:**
```
üìã –í–∞—à—ñ –º–∞–π–±—É—Ç–Ω—ñ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è:

1. üé´ –ë—Ä–æ–Ω—é–≤–∞–Ω–Ω—è #42
   üöå –ö–∏—ó–≤ ‚Üí –ú–∞–ª–∏–Ω (—á–µ—Ä–µ–∑ –Ü—Ä–ø—ñ–Ω—å)
   ...

2. üé´ –ë—Ä–æ–Ω—é–≤–∞–Ω–Ω—è #41
   ...

3. üé´ –ë—Ä–æ–Ω—é–≤–∞–Ω–Ω—è #40
   ...
```

---

## üìä –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è: –î–æ vs –ü—ñ—Å–ª—è

### ‚ùå –î–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è (—Ñ—ñ–ª—å—Ç—Ä –ù–ï –ø—Ä–∞—Ü—é–≤–∞–≤):

**–§—ñ–ª—å—Ç—Ä:**
```typescript
{ telegramUserId: { not: null } }  // ‚ùå '0' –ø—Ä–æ—Ö–æ–¥–∏—Ç—å
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—à—É–∫—É:**
```
–ó–Ω–∞–π–¥–µ–Ω–æ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è #40: userId='0' ‚ùå
```

**–ö–æ–ø—ñ—é–≤–∞–Ω–Ω—è:**
```
–ù–æ–≤–µ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è: userId='0' ‚ùå
```

**–¶–∏–∫–ª –Ω–µ–≤–∞–ª—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö –ø—Ä–æ–¥–æ–≤–∂—É—î—Ç—å—Å—è!** ‚ùå

---

### ‚úÖ –ü—ñ—Å–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è (—Ñ—ñ–ª—å—Ç—Ä –ø—Ä–∞—Ü—é—î):

**–§—ñ–ª—å—Ç—Ä:**
```typescript
{ 
  telegramUserId: { 
    not: null,
    notIn: ['0', '', ' ']  // ‚úÖ '0' –≤–∏–∫–ª—é—á–∞—î—Ç—å—Å—è
  }
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—à—É–∫—É:**
```
–ë—Ä–æ–Ω—é–≤–∞–Ω–Ω—è #40 –∑ userId='0' –í–ò–ö–õ–Æ–ß–ï–ù–û ‚úÖ
–ó–Ω–∞–π–¥–µ–Ω–æ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è #38: userId='5072659044' ‚úÖ
```

**–ö–æ–ø—ñ—é–≤–∞–Ω–Ω—è:**
```
–ù–æ–≤–µ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è: userId='5072659044' ‚úÖ
```

**–¶–∏–∫–ª —Ä–æ–∑—ñ—Ä–≤–∞–Ω–æ, —Ç—ñ–ª—å–∫–∏ –≤–∞–ª—ñ–¥–Ω—ñ –¥–∞–Ω—ñ!** ‚úÖ

---

## üéØ –ß–æ–º—É —Ü–µ –≤–∞–∂–ª–∏–≤–æ

### –ü—Ä–æ–±–ª–µ–º–∞ —Ü–∏–∫–ª—ñ—á–Ω–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è:

```
–î–µ–Ω—å 1: –ë—Ä–æ–Ω—é–≤–∞–Ω–Ω—è #10 ‚Üí userId='0' (–ø–æ–º–∏–ª–∫–∞ –ø—Ä–∏ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó)
–î–µ–Ω—å 2: –ë—Ä–æ–Ω—é–≤–∞–Ω–Ω—è #11 ‚Üí –∫–æ–ø—ñ—é—î –∑ #10 ‚Üí userId='0' ‚ùå
–î–µ–Ω—å 3: –ë—Ä–æ–Ω—é–≤–∞–Ω–Ω—è #12 ‚Üí –∫–æ–ø—ñ—é—î –∑ #11 ‚Üí userId='0' ‚ùå
–î–µ–Ω—å 4: –ë—Ä–æ–Ω—é–≤–∞–Ω–Ω—è #13 ‚Üí –∫–æ–ø—ñ—é—î –∑ #12 ‚Üí userId='0' ‚ùå
...
–î–µ–Ω—å 100: –ë—Ä–æ–Ω—é–≤–∞–Ω–Ω—è #100 ‚Üí –≤—Å–µ —â–µ userId='0' ‚ùå
```

**–û–¥–∏–Ω –Ω–µ–≤–∞–ª—ñ–¥–Ω–∏–π –∑–∞–ø–∏—Å –∑–∞—Ä–∞–∂—É—î –≤—Å—ñ –Ω–∞—Å—Ç—É–ø–Ω—ñ!**

---

### –†—ñ—à–µ–Ω–Ω—è - —Ä–æ–∑—ñ—Ä–≤–∞—Ç–∏ —Ü–∏–∫–ª:

```
–î–µ–Ω—å 1: –ë—Ä–æ–Ω—é–≤–∞–Ω–Ω—è #10 ‚Üí userId='0' (—Å—Ç–∞—Ä–∞ –ø–æ–º–∏–ª–∫–∞)
         ‚Üì –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è
         ‚Üì endpoint /admin/fix-telegram-ids
         ‚Üì
         –ë—Ä–æ–Ω—é–≤–∞–Ω–Ω—è #10 ‚Üí userId='5072659044' ‚úÖ

–î–µ–Ω—å 2: –ë—Ä–æ–Ω—é–≤–∞–Ω–Ω—è #11 ‚Üí —Ñ—ñ–ª—å—Ç—Ä –≤–∏–∫–ª—é—á–∞—î –Ω–µ–≤–∞–ª—ñ–¥–Ω—ñ
                       ‚Üí –∑–Ω–∞—Ö–æ–¥–∏—Ç—å —Ç—ñ–ª—å–∫–∏ #10 –∑ –≤–∞–ª—ñ–¥–Ω–∏–º userId
                       ‚Üí –∫–æ–ø—ñ—é—î userId='5072659044' ‚úÖ

–î–µ–Ω—å 3+: –í—Å—ñ –Ω–∞—Å—Ç—É–ø–Ω—ñ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –ø—Ä–∞–≤–∏–ª—å–Ω—ñ ‚úÖ
```

---

## üîí –ì–∞—Ä–∞–Ω—Ç—ñ—ó

–ü—ñ—Å–ª—è —Ü—å–æ–≥–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:

1. ‚úÖ **–§—ñ–ª—å—Ç—Ä –ë–î** - –≤–∏–∫–ª—é—á–∞—î –≤—Å—ñ –Ω–µ–≤–∞–ª—ñ–¥–Ω—ñ –∑–∞–ø–∏—Å–∏ (`'0'`, `''`, `' '`, `null`)
2. ‚úÖ **–í–∞–ª—ñ–¥–∞—Ü—ñ—è –ø—Ä–∏ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—ñ** - –ø–µ—Ä–µ–≤—ñ—Ä—è—î chatId —ñ userId
3. ‚úÖ **–§—ñ–Ω–∞–ª—å–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞** - –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î `null` –∑–∞–º—ñ—Å—Ç—å –Ω–µ–≤–∞–ª—ñ–¥–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω—å
4. ‚úÖ **–î–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è** - –º–æ–∂–Ω–∞ –≤—ñ–¥—Å—Ç–µ–∂–∏—Ç–∏ –∫–æ–∂–µ–Ω –∫—Ä–æ–∫
5. ‚úÖ **Endpoint –¥–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è** - –º–æ–∂–Ω–∞ –≤–∏–ø—Ä–∞–≤–∏—Ç–∏ —Å—Ç–∞—Ä—ñ –∑–∞–ø–∏—Å–∏

**–¢–µ–ø–µ—Ä —Ü–∏–∫–ª –Ω–µ–≤–∞–ª—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö —Ä–æ–∑—ñ—Ä–≤–∞–Ω–æ –ü–û–í–ù–Ü–°–¢–Æ!** üéâ

---

## üìö –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ

### Prisma —Ñ—ñ–ª—å—Ç—Ä–∏:

```typescript
// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û
{ telegramUserId: { not: null } }
// –ü–µ—Ä–µ–≤—ñ—Ä—è—î: value !== null
// '0' !== null ‚Üí true ‚Üí –∑–∞–ø–∏—Å –≤–∫–ª—é—á–∞—î—Ç—å—Å—è ‚ùå

// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û
{ 
  telegramUserId: { 
    not: null,
    notIn: ['0', '', ' ']
  }
}
// –ü–µ—Ä–µ–≤—ñ—Ä—è—î: value !== null AND value not in ['0', '', ' ']
// '0' in ['0', '', ' '] ‚Üí –∑–∞–ø–∏—Å –≤–∏–∫–ª—é—á–∞—î—Ç—å—Å—è ‚úÖ
```

### SQL –µ–∫–≤—ñ–≤–∞–ª–µ–Ω—Ç:

```sql
-- ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û
WHERE telegramUserId IS NOT NULL

-- ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û  
WHERE telegramUserId IS NOT NULL 
  AND telegramUserId NOT IN ('0', '', ' ')
```

---

## ‚úÖ –í–∏—Å–Ω–æ–≤–æ–∫

**–ö—Ä–∏—Ç–∏—á–Ω–∞ –ø–æ–º–∏–ª–∫–∞ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–∞!** üéâ

**–©–æ –±—É–ª–æ –∑—Ä–æ–±–ª–µ–Ω–æ:**
1. ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ —Ñ—ñ–ª—å—Ç—Ä –ë–î - –≤–∏–∫–ª—é—á–∞—î `'0'`
2. ‚úÖ –î–æ–¥–∞–Ω–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è chatId
3. ‚úÖ –§—ñ–Ω–∞–ª—å–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –∑–∞–ø–∏—Å–æ–º
4. ‚úÖ –î–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –¥–ª—è –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
5. ‚úÖ Endpoint –¥–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è —Å—Ç–∞—Ä–∏—Ö –∑–∞–ø–∏—Å—ñ–≤

**–ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏ –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞:**
1. ‚úÖ –î–µ–ø–ª–æ–π –∑–∞–≤–µ—Ä—à–µ–Ω–æ (–∫–æ–º—ñ—Ç `34b7270`)
2. ‚è≥ –í–∏–∫–ª–∏–∫–∞—Ç–∏ `/admin/fix-telegram-ids` –¥–ª—è —Å—Ç–∞—Ä–∏—Ö –∑–∞–ø–∏—Å—ñ–≤
3. ‚è≥ –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ç–µ—Å—Ç–æ–≤–µ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è
4. ‚è≥ –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≤ –±–æ—Ç—ñ `/mybookings`

**–¢–µ–ø–µ—Ä —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–∞—Ü—é—î –ø—Ä–∞–≤–∏–ª—å–Ω–æ!** üöÄ

---

**–î–∞—Ç–∞ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:** 28 —Å—ñ—á–Ω—è 2026  
**–ö–æ–º—ñ—Ç:** `34b7270`  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ö—Ä–∏—Ç–∏—á–Ω–µ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –∑–∞–¥–µ–ø–ª–æ—î–Ω–æ
