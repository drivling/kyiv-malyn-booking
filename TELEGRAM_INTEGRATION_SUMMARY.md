# ‚úÖ Telegram Bot Integration - –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ!

## üéâ –©–æ –±—É–ª–æ –∑—Ä–æ–±–ª–µ–Ω–æ

Telegram Bot —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è —É—Å–ø—ñ—à–Ω–æ –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–∞ –≤ –≤–∞—à –ø—Ä–æ–µ–∫—Ç. –¢–µ–ø–µ—Ä –≤–∏ –º–æ–∂–µ—Ç–µ –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –º–∏—Ç—Ç—î–≤—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –≤—Å—ñ –Ω–æ–≤—ñ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è **–ë–ï–ó–ö–û–®–¢–û–í–ù–û**!

---

## üì¶ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ –ø–∞–∫–µ—Ç–∏

```bash
‚úÖ node-telegram-bot-api
‚úÖ @types/node-telegram-bot-api
```

---

## üóÑÔ∏è –ó–º—ñ–Ω–∏ –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö

**–û–Ω–æ–≤–ª–µ–Ω–∞ Prisma schema:**
- –î–æ–¥–∞–Ω–æ –ø–æ–ª–µ `telegramChatId` –≤ –º–æ–¥–µ–ª—å `Booking`
- –°—Ç–≤–æ—Ä–µ–Ω–æ –º—ñ–≥—Ä–∞—Ü—ñ—é `add_telegram_chat_id`
- –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö –æ–Ω–æ–≤–ª–µ–Ω–∞

---

## üìÅ –ù–æ–≤—ñ —Ñ–∞–π–ª–∏

### 1. `/backend/src/telegram.ts`
–°–µ—Ä–≤—ñ—Å –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ Telegram Bot API.

**–§—É–Ω–∫—Ü—ñ—ó:**
- `sendBookingNotificationToAdmin()` - –≤—ñ–¥–ø—Ä–∞–≤–∫–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –∞–¥–º—ñ–Ω—É –ø—Ä–æ –Ω–æ–≤—ñ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è
- `sendBookingConfirmationToCustomer()` - –≤—ñ–¥–ø—Ä–∞–≤–∫–∞ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç—É (–≥–æ—Ç–æ–≤–æ –¥–ª—è –º–∞–π–±—É—Ç–Ω—å–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è)
- `sendTripReminder()` - –Ω–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è –ø—Ä–æ –ø–æ—ó–∑–¥–∫—É (–≥–æ—Ç–æ–≤–æ –¥–ª—è –º–∞–π–±—É—Ç–Ω—å–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è)
- `isTelegramEnabled()` - –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —á–∏ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π –±–æ—Ç

### 2. `/TELEGRAM_BOT_SETUP.md`
–î–µ—Ç–∞–ª—å–Ω–∞ –ø–æ–∫—Ä–æ–∫–æ–≤–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –∑ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Telegram Bot.

**–í–∫–ª—é—á–∞—î:**
- –Ø–∫ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ @BotFather
- –Ø–∫ –æ—Ç—Ä–∏–º–∞—Ç–∏ —Å–≤—ñ–π Chat ID
- –Ø–∫ –¥–æ–¥–∞—Ç–∏ —Ç–æ–∫–µ–Ω–∏ –≤ Railway
- –Ø–∫ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ä–æ–±–æ—Ç—É
- Troubleshooting

### 3. `/TELEGRAM_INTEGRATION_SUMMARY.md`
–¶–µ–π —Ñ–∞–π–ª - –ø—ñ–¥—Å—É–º–æ–∫ –≤—Å—ñ—Ö –∑–º—ñ–Ω.

---

## üîß –û–Ω–æ–≤–ª–µ–Ω—ñ —Ñ–∞–π–ª–∏

### `/backend/src/index.ts`
- –Ü–º–ø–æ—Ä—Ç–æ–≤–∞–Ω–æ —Ñ—É–Ω–∫—Ü—ñ—ó –∑ `telegram.ts`
- –î–æ–¥–∞–Ω–æ –≤—ñ–¥–ø—Ä–∞–≤–∫—É –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∞–¥–º—ñ–Ω—É –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è
- –ü–æ–º–∏–ª–∫–∏ Telegram –Ω–µ –±–ª–æ–∫—É—é—Ç—å –ø—Ä–æ—Ü–µ—Å –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è

### `/backend/.env.example`
–î–æ–¥–∞–Ω–æ –∑–º—ñ–Ω–Ω—ñ –¥–ª—è Telegram:
```bash
TELEGRAM_BOT_TOKEN=""
TELEGRAM_ADMIN_CHAT_ID=""
```

### `/backend/tsconfig.json`
–î–æ–¥–∞–Ω–æ `"skipLibCheck": true` –¥–ª—è –∫–æ—Ä–µ–∫—Ç–Ω–æ—ó –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó TypeScript.

### `/RAILWAY_SETUP.md`
–û–Ω–æ–≤–ª–µ–Ω–æ —Å–µ–∫—Ü—ñ—é Environment Variables –∑ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é –ø—Ä–æ Telegram.

---

## üöÄ –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

### 1. –õ–æ–∫–∞–ª—å–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

```bash
# 1. –°—Ç–≤–æ—Ä—ñ—Ç—å Telegram Bot (–¥–∏–≤. TELEGRAM_BOT_SETUP.md)
# 2. –î–æ–¥–∞–π—Ç–µ —Ç–æ–∫–µ–Ω–∏ –≤ backend/.env:

TELEGRAM_BOT_TOKEN="–≤–∞—à_—Ç–æ–∫–µ–Ω_–≤—ñ–¥_BotFather"
TELEGRAM_ADMIN_CHAT_ID="–≤–∞—à_chat_id"

# 3. –ó–∞–ø—É—Å—Ç—ñ—Ç—å backend:
cd backend
npm run dev

# 4. –°—Ç–≤–æ—Ä—ñ—Ç—å —Ç–µ—Å—Ç–æ–≤–µ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è
# 5. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ Telegram!
```

### 2. –î–µ–ø–ª–æ–π –Ω–∞ Railway

```bash
# 1. –ó–∞–∫–æ–º—ñ—Ç—å—Ç–µ –∑–º—ñ–Ω–∏:
git add .
git commit -m "Add Telegram Bot integration"
git push origin main

# 2. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ Telegram Bot (—è–∫—â–æ —â–µ –Ω–µ –∑—Ä–æ–±–∏–ª–∏)
# –î–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è: TELEGRAM_BOT_SETUP.md

# 3. –î–æ–¥–∞–π—Ç–µ Environment Variables –≤ Railway:
# - –í—ñ–¥–∫—Ä–∏–π—Ç–µ Railway Dashboard
# - Backend service ‚Üí Variables
# - –î–æ–¥–∞–π—Ç–µ:
#   TELEGRAM_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω
#   TELEGRAM_ADMIN_CHAT_ID=–≤–∞—à_chat_id

# 4. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–¥–µ–ø–ª–æ—ó—Ç—å –∑–º—ñ–Ω–∏
# 5. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ä–æ–±–æ—Ç—É —Å—Ç–≤–æ—Ä–∏–≤—à–∏ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è!
```

---

## üì± –ü—Ä–∏–∫–ª–∞–¥ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è

–ü—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –≤–∏ –æ—Ç—Ä–∏–º–∞—î—Ç–µ —Ç–∞–∫–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è:

```
üé´ –ù–æ–≤–µ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è #123

üöå –ú–∞—Ä—à—Ä—É—Ç: –ö–∏—ó–≤ ‚Üí –ú–∞–ª–∏–Ω (—á–µ—Ä–µ–∑ –Ü—Ä–ø—ñ–Ω—å)
üìÖ –î–∞—Ç–∞: 27.01.2026
üïê –ß–∞—Å –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–Ω—è: 14:30
üé´ –ú—ñ—Å—Ü—å: 2

üë§ –ö–ª—ñ—î–Ω—Ç: –Ü–≤–∞–Ω –ü–µ—Ç—Ä–µ–Ω–∫–æ
üìû –¢–µ–ª–µ—Ñ–æ–Ω: +380501234567

‚úÖ –ë—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ
```

---

## üí∞ –í–∞—Ä—Ç—ñ—Å—Ç—å

**–ë–ï–ó–ö–û–®–¢–û–í–ù–û!** ‚úÖ

- Telegram Bot API –ø–æ–≤–Ω—ñ—Å—Ç—é –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π
- –ù–µ–æ–±–º–µ–∂–µ–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
- –ë–µ–∑ –ø—Ä–∏—Ö–æ–≤–∞–Ω–∏—Ö –ø–ª–∞—Ç–µ–∂—ñ–≤
- –ü—Ä–∞—Ü—é—î –Ω–∞ Railway –±–µ–∑ –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö –≤–∏—Ç—Ä–∞—Ç

---

## üîç –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ª–æ–≥—ñ–≤

–ü—ñ—Å–ª—è –¥–µ–ø–ª–æ—é –Ω–∞ Railway –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ —á–∏ –±–æ—Ç —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É–≤–∞–≤—Å—è:

1. Railway Dashboard ‚Üí Backend service
2. Deployments ‚Üí View Logs
3. –®—É–∫–∞–π—Ç–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è:
   - `‚úÖ Telegram Bot —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ` - —è–∫—â–æ –≤—Å–µ –¥–æ–±—Ä–µ
   - `‚ö†Ô∏è TELEGRAM_BOT_TOKEN –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ` - —è–∫—â–æ —Ç–æ–∫–µ–Ω –Ω–µ –¥–æ–¥–∞–Ω–æ

---

## üéØ –ú–∞–π–±—É—Ç–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

–£ –∫–æ–¥—ñ –≤–∂–µ –≥–æ—Ç–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –¥–ª—è:

### 1. –í—ñ–¥–ø—Ä–∞–≤–∫–∞ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç–∞–º
–ö–ª—ñ—î–Ω—Ç–∏ –∑–º–æ–∂—É—Ç—å –ø—ñ–¥–ø–∏—Å–∞—Ç–∏—Å—è –Ω–∞ –≤–∞—à–æ–≥–æ –±–æ—Ç–∞ —ñ –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è.

**–©–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–æ–¥–∞—Ç–∏:**
- –ö–Ω–æ–ø–∫—É "–û—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –Ω–æ—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó" –Ω–∞ —Å–∞–π—Ç—ñ
- –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è chat_id –∫–ª—ñ—î–Ω—Ç–∞ –ø—Ä–∏ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—ñ
- –í–∏–∫–ª–∏–∫ `sendBookingConfirmationToCustomer()`

### 2. –ù–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è –ø—Ä–æ –ø–æ—ó–∑–¥–∫—É
–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –Ω–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç–∞–º –∑–∞ –¥–µ–Ω—å –¥–æ –ø–æ—ó–∑–¥–∫–∏.

**–©–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–æ–¥–∞—Ç–∏:**
- Cron job (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥ —á–µ—Ä–µ–∑ node-cron)
- –ó–∞–ø–∏—Ç –±—Ä–æ–Ω—é–≤–∞–Ω—å –Ω–∞ –∑–∞–≤—Ç—Ä–∞
- –í–∏–∫–ª–∏–∫ `sendTripReminder()` –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è

### 3. –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–π –±–æ—Ç
–ë–æ—Ç –º–æ–∂–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—Ç–∏ –Ω–∞ –∫–æ–º–∞–Ω–¥–∏ –∫–ª—ñ—î–Ω—Ç—ñ–≤.

**–ú–æ–∂–ª–∏–≤—ñ –∫–æ–º–∞–Ω–¥–∏:**
- `/start` - –ø—Ä–∏–≤—ñ—Ç–∞–Ω–Ω—è —Ç–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó
- `/booking <phone>` - –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É
- `/schedule` - –ø–æ–∫–∞–∑ —Ä–æ–∑–∫–ª–∞–¥—É –Ω–∞ —Å—å–æ–≥–æ–¥–Ω—ñ

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

- **–î–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:** `TELEGRAM_BOT_SETUP.md`
- **Railway –¥–µ–ø–ª–æ–π:** `RAILWAY_SETUP.md`
- **–ö–æ–¥ Telegram —Å–µ—Ä–≤—ñ—Å—É:** `backend/src/telegram.ts`
- **API —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è:** `backend/src/index.ts`

---

## ‚ùì –ü–æ—Ç—Ä—ñ–±–Ω–∞ –¥–æ–ø–æ–º–æ–≥–∞?

### –Ø–∫—â–æ Telegram Bot –Ω–µ –ø—Ä–∞—Ü—é—î:

1. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ –≤ Railway:**
   - Backend service ‚Üí Deployments ‚Üí View Logs
   - –®—É–∫–∞–π—Ç–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫–∏

2. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ Environment Variables:**
   - Railway ‚Üí Backend ‚Üí Variables
   - –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è —â–æ `TELEGRAM_BOT_TOKEN` —ñ `TELEGRAM_ADMIN_CHAT_ID` –¥–æ–¥–∞–Ω—ñ

3. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ç–æ–∫–µ–Ω:**
   - –¢–æ–∫–µ–Ω –º–∞—î —Ñ–æ—Ä–º–∞—Ç: `123456789:ABCdefGHI...`
   - Chat ID –º–∞—î –±—É—Ç–∏ —á–∏—Å–ª–æ–º: `123456789`

4. **–°—Ç–≤–æ—Ä—ñ—Ç—å —Ç–µ—Å—Ç–æ–≤–µ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è:**
   - –Ø–∫—â–æ –ø–æ–º–∏–ª–æ–∫ –Ω–µ–º–∞—î, –∞–ª–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç—å - –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ —á–∏ –≤–∏ –Ω–∞—Ç–∏—Å–Ω—É–ª–∏ Start –Ω–∞ –±–æ—Ç—ñ

---

## ‚úÖ Checklist

- [x] –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ `node-telegram-bot-api`
- [x] –û–Ω–æ–≤–ª–µ–Ω–æ Prisma schema
- [x] –°—Ç–≤–æ—Ä–µ–Ω–æ –º—ñ–≥—Ä–∞—Ü—ñ—é –ë–î
- [x] –°—Ç–≤–æ—Ä–µ–Ω–æ `/backend/src/telegram.ts`
- [x] –Ü–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–æ –≤ `/backend/src/index.ts`
- [x] –û–Ω–æ–≤–ª–µ–Ω–æ `.env.example`
- [x] –û–Ω–æ–≤–ª–µ–Ω–æ `tsconfig.json`
- [x] –°—Ç–≤–æ—Ä–µ–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é `TELEGRAM_BOT_SETUP.md`
- [x] –û–Ω–æ–≤–ª–µ–Ω–æ `RAILWAY_SETUP.md`
- [x] TypeScript –∫–æ–º–ø—ñ–ª—è—Ü—ñ—è —É—Å–ø—ñ—à–Ω–∞ ‚úÖ

### –ó–∞–ª–∏—à–∏–ª–æ—Å—å –∑—Ä–æ–±–∏—Ç–∏ –≤–∞–º:

- [ ] –°—Ç–≤–æ—Ä–∏—Ç–∏ Telegram Bot —á–µ—Ä–µ–∑ @BotFather
- [ ] –û—Ç—Ä–∏–º–∞—Ç–∏ —Å–≤—ñ–π Chat ID —á–µ—Ä–µ–∑ @userinfobot
- [ ] –î–æ–¥–∞—Ç–∏ —Ç–æ–∫–µ–Ω–∏ –≤ Railway Environment Variables
- [ ] –ó–∞–∫–æ–º—ñ—Ç–∏—Ç–∏ —Ç–∞ –∑–∞–¥–µ–ø–ª–æ—ó—Ç–∏ –∑–º—ñ–Ω–∏
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ä–æ–±–æ—Ç—É —Å—Ç–≤–æ—Ä–∏–≤—à–∏ —Ç–µ—Å—Ç–æ–≤–µ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è

---

**–ì–æ—Ç–æ–≤–æ! üéâ Telegram Bot —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –ø–æ–≤–Ω—ñ—Å—Ç—é —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∞!**

**–ù–∞—Å—Ç—É–ø–Ω–∏–π –∫—Ä–æ–∫:** –í—ñ–¥–∫—Ä–∏–π—Ç–µ `TELEGRAM_BOT_SETUP.md` —ñ —Å–ª—ñ–¥—É–π—Ç–µ –ø–æ–∫—Ä–æ–∫–æ–≤—ñ–π —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó.
