# üîí –û–Ω–æ–≤–ª–µ–Ω–Ω—è –±–µ–∑–ø–µ–∫–∏ Telegram Bot

## ‚ö†Ô∏è –ö—Ä–∏—Ç–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –±–µ–∑–ø–µ–∫–∏!

**–î–∞—Ç–∞:** 27 —Å—ñ—á–Ω—è 2026

### üéØ –ü—Ä–æ–±–ª–µ–º–∞, —è–∫—É –±—É–ª–æ –≤–∏—Ä—ñ—à–µ–Ω–æ

**–î–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è:**
- –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –º–æ–≥–ª–∏ –ø–µ—Ä–µ–≥–ª—è–¥–∞—Ç–∏ **—á—É–∂—ñ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è**, –ø—Ä–æ—Å—Ç–æ –≤–≤—ñ–≤—à–∏ —á—É–∂–∏–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É
- –ö–æ–º–∞–Ω–¥–∞ `/booking +380XXXXXXXXX` –ø–æ–∫–∞–∑—É–≤–∞–ª–∞ –≤—Å—ñ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –∑–∞ –≤–∫–∞–∑–∞–Ω–∏–º –Ω–æ–º–µ—Ä–æ–º
- –ë—É–¥—å-—Ö—Ç–æ –º—ñ–≥ —à–ø–∏–≥—É–≤–∞—Ç–∏ –∑–∞ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è–º–∏ —ñ–Ω—à–∏—Ö –ª—é–¥–µ–π

**–¶–µ –±—É–ª–æ –Ω–µ–±–µ–∑–ø–µ—á–Ω–æ!** ‚ö†Ô∏è

---

## ‚úÖ –©–æ –±—É–ª–æ –∑—Ä–æ–±–ª–µ–Ω–æ

### 1. –î–æ–¥–∞–Ω–æ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é –ø–æ Telegram User ID
- –ö–æ–∂–µ–Ω –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –æ—Ç—Ä–∏–º—É—î —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä
- –ü—Ä–∏–≤'—è–∑–∫–∞ –±—Ä–æ–Ω—é–≤–∞–Ω—å –¥–æ **–∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ Telegram –∞–∫–∞—É–Ω—Ç—É**

### 2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –∑–∞–ø–∏—Ç –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω—É
- –ö–Ω–æ–ø–∫–∞ "–ü–æ–¥—ñ–ª–∏—Ç–∏—Å—è –∫–æ–Ω—Ç–∞–∫—Ç–æ–º" —á–µ—Ä–µ–∑ Telegram API
- –ê–±–æ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –Ω–∞–ø–∏—Å–∞—Ç–∏ –Ω–æ–º–µ—Ä –≤—Ä—É—á–Ω—É

### 3. –ù–æ–≤–∞ –±–µ–∑–ø–µ—á–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ `/mybookings`
- –ü–æ–∫–∞–∑—É—î **–¢–Ü–õ–¨–ö–ò** –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –ø–æ—Ç–æ—á–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- –ù–µ–º–æ–∂–ª–∏–≤–æ –ø–æ–±–∞—á–∏—Ç–∏ —á—É–∂—ñ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è
- –Ü–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è –ø–æ Telegram User ID (–ù–ï –ø–æ –Ω–æ–º–µ—Ä—É —Ç–µ–ª–µ—Ñ–æ–Ω—É!)

### 4. –í–∏–¥–∞–ª–µ–Ω–æ –Ω–µ–±–µ–∑–ø–µ—á–Ω—ñ –∫–æ–º–∞–Ω–¥–∏
- ‚ùå `/subscribe –ù–û–ú–ï–†` - –≤–∏–¥–∞–ª–µ–Ω–æ
- ‚ùå `/booking –ù–û–ú–ï–†` - –≤–∏–¥–∞–ª–µ–Ω–æ
- ‚úÖ `/mybookings` - –Ω–æ–≤–∞ –±–µ–∑–ø–µ—á–Ω–∞ –∫–æ–º–∞–Ω–¥–∞

---

## üîß –¢–µ—Ö–Ω—ñ—á–Ω—ñ –∑–º—ñ–Ω–∏

### –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö
**–î–æ–¥–∞–Ω–æ –Ω–æ–≤–µ –ø–æ–ª–µ:**
```prisma
model Booking {
  // ... —ñ–Ω—à—ñ –ø–æ–ª—è
  telegramUserId String? // Telegram User ID –¥–ª—è —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
}
```

**–ú—ñ–≥—Ä–∞—Ü—ñ—è:**
```bash
npx prisma migrate dev --name add_telegram_user_id
```

### –ö–æ–¥ –±–æ—Ç–∞ (`backend/src/telegram.ts`)

**–î–æ–¥–∞–Ω–æ:**
- –§—É–Ω–∫—Ü—ñ—è `registerUserPhone()` - —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- –û–±—Ä–æ–±–Ω–∏–∫ `bot.on('contact')` - –ø—Ä–∏–π–æ–º –∫–æ–Ω—Ç–∞–∫—Ç—É
- –û–±—Ä–æ–±–Ω–∏–∫ `bot.on('message')` - –ø—Ä–∏–π–æ–º —Ç–µ–∫—Å—Ç–æ–≤–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –∑ –Ω–æ–º–µ—Ä–æ–º
- –ö–æ–º–∞–Ω–¥–∞ `/mybookings` - –±–µ–∑–ø–µ—á–Ω–∏–π –ø–µ—Ä–µ–≥–ª—è–¥ –±—Ä–æ–Ω—é–≤–∞–Ω—å

**–û–Ω–æ–≤–ª–µ–Ω–æ:**
- `/start` - –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å—É —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó
- `/help` - –∞–¥–∞–ø—Ç–æ–≤–∞–Ω–æ –ø—ñ–¥ —Å—Ç–∞—Ç—É—Å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- `getChatIdByPhone()` - —Ç–µ–ø–µ—Ä –ø–µ—Ä–µ–≤—ñ—Ä—è—î telegramUserId

**–í–∏–¥–∞–ª–µ–Ω–æ:**
- `/subscribe –ù–û–ú–ï–†` - –Ω–µ–±–µ–∑–ø–µ—á–Ω–∞ –∫–æ–º–∞–Ω–¥–∞
- `/booking –ù–û–ú–ï–†` - –Ω–µ–±–µ–∑–ø–µ—á–Ω–∞ –∫–æ–º–∞–Ω–¥–∞

---

## üì± –©–æ –∑–º—ñ–Ω–∏–ª–æ—Å—è –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

### –°—Ç–∞—Ä–∏–π –ø—Ä–æ—Ü–µ—Å (–ù–ï–ë–ï–ó–ü–ï–ß–ù–ò–ô):
1. `/subscribe +380501234567`
2. `/booking +380501234567`
3. –ë–∞—á–∏—Ç—å –≤—Å—ñ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –∑–∞ —Ü–∏–º –Ω–æ–º–µ—Ä–æ–º ‚ùå

### –ù–æ–≤–∏–π –ø—Ä–æ—Ü–µ—Å (–ë–ï–ó–ü–ï–ß–ù–ò–ô):
1. `/start`
2. –ü–æ–¥—ñ–ª–∏—Ç–∏—Å—è –∫–æ–Ω—Ç–∞–∫—Ç–æ–º –∞–±–æ –Ω–∞–ø–∏—Å–∞—Ç–∏ –Ω–æ–º–µ—Ä
3. `/mybookings`
4. –ë–∞—á–∏—Ç—å **–¢–Ü–õ–¨–ö–ò –°–í–û–á** –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è ‚úÖ

---

## üöÄ –Ø–∫ –æ–Ω–æ–≤–∏—Ç–∏

### 1. –û–Ω–æ–≤–∏—Ç–∏ –∫–æ–¥
```bash
git pull origin main
```

### 2. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
```bash
cd backend
npm install
```

### 3. –í–∏–∫–æ–Ω–∞—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—é –ë–î
```bash
npx prisma migrate deploy
```

### 4. –ü–µ—Ä–µ–±—É–¥—É–≤–∞—Ç–∏ –ø—Ä–æ–µ–∫—Ç
```bash
npm run build
```

### 5. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–µ—Ä–≤–µ—Ä
```bash
# –ù–∞ Railway —Ü–µ –≤—ñ–¥–±—É–¥–µ—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–∏ push
git push origin main
```

---

## üìö –ù–æ–≤–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

**–î–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤:**
- `TELEGRAM_USER_GUIDE.md` - —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –¥–ª—è –∫–ª—ñ—î–Ω—Ç—ñ–≤

**–î–ª—è —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤:**
- `TELEGRAM_FEATURES.md` - –æ–Ω–æ–≤–ª–µ–Ω–æ –∑ –Ω–æ–≤–∏–º–∏ —Ñ—É–Ω–∫—Ü—ñ—è–º–∏
- `SECURITY_UPDATE.md` - —Ü–µ–π –¥–æ–∫—É–º–µ–Ω—Ç

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

### –ë–µ–∑–ø–µ–∫–∞:
- ‚úÖ –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –±–∞—á–∞—Ç—å —Ç—ñ–ª—å–∫–∏ —Å–≤–æ—ó –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è
- ‚úÖ –ù–µ–º–æ–∂–ª–∏–≤–æ –ø—ñ–¥–≥–ª—è–¥–∞—Ç–∏ –∑–∞ —á—É–∂–∏–º–∏ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è–º–∏
- ‚úÖ –Ü–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è —á–µ—Ä–µ–∑ Telegram User ID

### –ó—Ä—É—á–Ω—ñ—Å—Ç—å:
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –∑–∞–ø–∏—Ç –Ω–æ–º–µ—Ä–∞ —á–µ—Ä–µ–∑ Telegram
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–ü–æ–¥—ñ–ª–∏—Ç–∏—Å—è –∫–æ–Ω—Ç–∞–∫—Ç–æ–º" (1 –∫–ª—ñ–∫!)
- ‚úÖ –í—Å—ñ —Å—Ç–∞—Ä—ñ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–∏–≤'—è–∑—É—é—Ç—å—Å—è

### –ê–¥–º—ñ–Ω–∏:
- ‚úÖ –ü—Ä–æ–¥–æ–≤–∂—É—é—Ç—å –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –≤—Å—ñ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è
- ‚úÖ –ú–∞—é—Ç—å –ø–æ–≤–Ω–∏–π –¥–æ—Å—Ç—É–ø –¥–æ –≤—Å—ñ—Ö –±—Ä–æ–Ω—é–≤–∞–Ω—å —á–µ—Ä–µ–∑ –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å
- ‚úÖ –ù—ñ—á–æ–≥–æ –Ω–µ –∑–º—ñ–Ω–∏–ª–æ—Å—è –¥–ª—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—ñ–≤

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–ë–æ—Ç —Ç–µ–ø–µ—Ä **–±–µ–∑–ø–µ—á–Ω–∏–π** —ñ **–∑—Ä—É—á–Ω–∏–π**!

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è:** –ù–∞–¥—ñ—à–ª—ñ—Ç—å –≤—Å—ñ–º —ñ—Å–Ω—É—é—á–∏–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –ø–æ–ø—Ä–æ—Å—ñ—Ç—å —ó—Ö:
1. –ù–∞–ø–∏—Å–∞—Ç–∏ `/start`
2. –ü–æ–¥—ñ–ª–∏—Ç–∏—Å—è —Å–≤–æ—ó–º –Ω–æ–º–µ—Ä–æ–º —Ç–µ–ª–µ—Ñ–æ–Ω—É –∑–∞–Ω–æ–≤–æ
3. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –Ω–æ–≤—É –∫–æ–º–∞–Ω–¥—É `/mybookings`

---

**–í–µ—Ä—Å—ñ—è:** 2.0 (–ë–µ–∑–ø–µ—á–Ω–∞)  
**–ê–≤—Ç–æ—Ä –æ–Ω–æ–≤–ª–µ–Ω–Ω—è:** AI Assistant  
**–î–∞—Ç–∞:** 27.01.2026
