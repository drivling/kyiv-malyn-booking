# üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –ø—Ä–∏–≤'—è–∑–∫–∞ Telegram –∞–∫–∞—É–Ω—Ç—É

## üéØ –ü—Ä–æ–±–ª–µ–º–∞, —è–∫—É –≤–∏—Ä—ñ—à–∏–ª–∏

**–î–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è:**
- –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á —Ä–µ—î—Å—Ç—Ä—É—î—Ç—å—Å—è –≤ –±–æ—Ç—ñ –æ–¥–∏–Ω —Ä–∞–∑
- –°—Ç–≤–æ—Ä—é—î –Ω–æ–≤–µ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –Ω–∞ —Å–∞–π—Ç—ñ
- **–ë–æ—Ç –ù–ï –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è** üòû
- –ü–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞–Ω–æ–≤–æ —Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è –≤ –±–æ—Ç—ñ

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–æ–≤—ñ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –Ω–µ –∫–æ–ø—ñ—é–≤–∞–ª–∏ `telegramUserId` —Ç–∞ `telegramChatId` –∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ—Ö –±—Ä–æ–Ω—é–≤–∞–Ω—å.

---

## ‚úÖ –†—ñ—à–µ–Ω–Ω—è

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è Telegram –¥–∞–Ω–∏—Ö

–ü—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ –Ω–æ–≤–æ–≥–æ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ API —Å–∏—Å—Ç–µ–º–∞ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ**:

1. **–ù–æ—Ä–º–∞–ª—ñ–∑—É—î –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É** (380XXXXXXXXX)
2. **–®—É–∫–∞—î –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è** –∑ —Ç–∞–∫–∏–º –∂–µ –Ω–æ–º–µ—Ä–æ–º
3. **–Ø–∫—â–æ –∑–Ω–∞–π–¥–µ–Ω–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑ Telegram –ø—Ä–∏–≤'—è–∑–∫–æ—é:**
   - –ö–æ–ø—ñ—é—î `telegramUserId`
   - –ö–æ–ø—ñ—é—î `telegramChatId`
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç—É ‚úÖ

---

## üîç –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î

### –ö–æ–¥ –≤ `backend/src/index.ts` (—Ä—è–¥–∫–∏ 256-285):

```typescript
// –®—É–∫–∞—î–º–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –∑ —Ü–∏–º –Ω–æ–º–µ—Ä–æ–º —Ç–µ–ª–µ—Ñ–æ–Ω—É
let telegramChatId: string | null = null;
let telegramUserId: string | null = null;

try {
  const normalizedPhone = normalizePhone(phone);
  
  // –û—Ç—Ä–∏–º—É—î–º–æ –≤—Å—ñ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –∑ Telegram –ø—Ä–∏–≤'—è–∑–∫–æ—é
  const allBookings = await prisma.booking.findMany({
    where: {
      telegramUserId: { not: null }
    },
    orderBy: { createdAt: 'desc' }
  });
  
  // –®—É–∫–∞—î–º–æ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –∑ —Ç–∞–∫–∏–º –∂–µ –Ω–æ—Ä–º–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–º –Ω–æ–º–µ—Ä–æ–º
  const previousBooking = allBookings.find(b => 
    normalizePhone(b.phone) === normalizedPhone
  );
  
  if (previousBooking) {
    telegramChatId = previousBooking.telegramChatId;
    telegramUserId = previousBooking.telegramUserId;
    console.log(`‚úÖ –ö–æ–ø—ñ—é—î–º–æ Telegram –¥–∞–Ω—ñ –¥–ª—è ${phone}`);
  }
} catch (error) {
  // –ü—Ä–æ–¥–æ–≤–∂—É—î–º–æ –±–µ–∑ Telegram –¥–∞–Ω–∏—Ö
}

// –°—Ç–≤–æ—Ä—é—î–º–æ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –∑ Telegram –¥–∞–Ω–∏–º–∏
const booking = await prisma.booking.create({
  data: {
    // ... —ñ–Ω—à—ñ –ø–æ–ª—è
    telegramChatId,
    telegramUserId
  }
});
```

---

## üìä –°—Ü–µ–Ω–∞—Ä—ñ—ó –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –°—Ü–µ–Ω–∞—Ä—ñ–π 1: –ü–µ—Ä—à–µ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è

1. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á —Å—Ç–≤–æ—Ä—é—î –ø–µ—Ä—à–µ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –Ω–∞ —Å–∞–π—Ç—ñ
2. –í–∫–∞–∑—É—î –Ω–æ–º–µ—Ä: `+380501234567`
3. **telegramUserId**: `null` (—â–µ –Ω–µ —Ä–µ—î—Å—Ç—Ä—É–≤–∞–≤—Å—è)
4. –ë–æ—Ç **–ù–ï** –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è

### –°—Ü–µ–Ω–∞—Ä—ñ–π 2: –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –≤ –±–æ—Ç—ñ

1. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤—ñ–¥–∫—Ä–∏–≤–∞—î –±–æ—Ç–∞
2. –ü–∏—à–µ `/start`
3. –î—ñ–ª–∏—Ç—å—Å—è –∫–æ–Ω—Ç–∞–∫—Ç–æ–º –∞–±–æ –ø–∏—à–µ –Ω–æ–º–µ—Ä
4. –ë–æ—Ç –∑–Ω–∞—Ö–æ–¥–∏—Ç—å –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è —ñ **–ø—Ä–∏–≤'—è–∑—É—î** `telegramUserId`

### –°—Ü–µ–Ω–∞—Ä—ñ–π 3: –î—Ä—É–≥–µ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è (–ê–í–¢–û–ú–ê–¢–ò–ß–ù–û!)

1. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á —Å—Ç–≤–æ—Ä—é—î –¥—Ä—É–≥–µ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –Ω–∞ —Å–∞–π—Ç—ñ
2. –í–∫–∞–∑—É—î —Ç–æ–π —Å–∞–º–∏–π –Ω–æ–º–µ—Ä: `+380501234567`
3. **–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å –ø–æ–ø–µ—Ä–µ–¥–Ω—î –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è**
4. **–ö–æ–ø—ñ—é—î** `telegramUserId` —Ç–∞ `telegramChatId`
5. ‚úÖ **–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è!**

### –°—Ü–µ–Ω–∞—Ä—ñ–π 4: –†—ñ–∑–Ω—ñ —Ñ–æ—Ä–º–∞—Ç–∏ –Ω–æ–º–µ—Ä–∞

–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–æ–∂–µ –≤–∫–∞–∑—É–≤–∞—Ç–∏ –Ω–æ–º–µ—Ä –≤ —Ä—ñ–∑–Ω–∏—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö:
- –ü–µ—Ä—à–µ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è: `+380501234567`
- –î—Ä—É–≥–µ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è: `380501234567`
- –¢—Ä–µ—Ç—î –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è: `0501234567`

**–°–∏—Å—Ç–µ–º–∞ —Ä–æ–∑–ø—ñ–∑–Ω–∞—î —â–æ —Ü–µ —Ç–æ–π —Å–∞–º–∏–π –Ω–æ–º–µ—Ä!** ‚úÖ

---

## üîç –ù–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è –Ω–æ–º–µ—Ä—ñ–≤

–§—É–Ω–∫—Ü—ñ—è `normalizePhone()` –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î –≤—Å—ñ —Ñ–æ—Ä–º–∞—Ç–∏ –≤ —î–¥–∏–Ω–∏–π:

| –í–≤–µ–¥–µ–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç | –ù–æ—Ä–º–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π |
|----------------|----------------|
| `+380501234567` | `380501234567` |
| `380501234567` | `380501234567` |
| `0501234567` | `380501234567` |
| `+38 050 123 45 67` | `380501234567` |
| `(050) 123-45-67` | `380501234567` |

---

## üí° –ü–µ—Ä–µ–≤–∞–≥–∏

### –î–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤:
- ‚úÖ **–†–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è –≤ –±–æ—Ç—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ —Ç—ñ–ª—å–∫–∏ –û–î–ò–ù –†–ê–ó**
- ‚úÖ –í—Å—ñ –Ω–∞—Å—Ç—É–ø–Ω—ñ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–∏–≤'—è–∑—É—é—Ç—å—Å—è
- ‚úÖ –ù–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ —â–æ—Ä–∞–∑—É –ø–∏—Å–∞—Ç–∏ `/start`
- ‚úÖ –ü—Ä–∞—Ü—é—î –∑ —Ä—ñ–∑–Ω–∏–º–∏ —Ñ–æ—Ä–º–∞—Ç–∞–º–∏ –Ω–æ–º–µ—Ä–∞

### –î–ª—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—ñ–≤:
- ‚úÖ –ú–µ–Ω—à–µ –∑–∞–ø–∏—Ç–∞–Ω—å –≤—ñ–¥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- ‚úÖ –ë—ñ–ª—å—à–µ –ª—é–¥–µ–π –æ—Ç—Ä–∏–º—É—é—Ç—å –Ω–æ—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó
- ‚úÖ –ö—Ä–∞—â–∞ –∑–∞–ª—É—á–µ–Ω—ñ—Å—Ç—å –∫–ª—ñ—î–Ω—Ç—ñ–≤

---

## üõ°Ô∏è –ë–µ–∑–ø–µ–∫–∞

### –ó–∞—Ö–∏—Å—Ç –¥–∞–Ω–∏—Ö:
- ‚úÖ –¢–µ–ª–µ—Ñ–æ–Ω–∏ –Ω–æ—Ä–º–∞–ª—ñ–∑—É—é—Ç—å—Å—è –ø–µ—Ä–µ–¥ –ø–æ—à—É–∫–æ–º
- ‚úÖ –ö–æ–ø—ñ—é—é—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ Telegram –¥–∞–Ω—ñ (–Ω–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ñ)
- ‚úÖ –ö–æ–∂–µ–Ω –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –±–∞—á–∏—Ç—å —Ç—ñ–ª—å–∫–∏ —Å–≤–æ—ó –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è
- ‚úÖ `telegramUserId` —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –∞–∫–∞—É–Ω—Ç—É

### –©–æ –ù–ï –∫–æ–ø—ñ—é—î—Ç—å—Å—è:
- ‚ùå –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ —ñ–Ω—à–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- ‚ùå –ü–∞—Ä–æ–ª—ñ –∞–±–æ —Ç–æ–∫–µ–Ω–∏
- ‚ùå –Ü—Å—Ç–æ—Ä—ñ—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å

---

## üìù –õ–æ–≥—É–≤–∞–Ω–Ω—è

–°–∏—Å—Ç–µ–º–∞ –ª–æ–≥—É—î –∫–æ–∂–Ω—É –æ–ø–µ—Ä–∞—Ü—ñ—é:

```bash
‚úÖ –ó–Ω–∞–π–¥–µ–Ω–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—î –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –¥–ª—è +380501234567, –∫–æ–ø—ñ—é—î–º–æ Telegram –¥–∞–Ω—ñ (userId: 123456789)
```

–Ø–∫—â–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ—Ö –±—Ä–æ–Ω—é–≤–∞–Ω—å –Ω–µ–º–∞—î:
```bash
# –ü—Ä–æ—Å—Ç–æ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –±–µ–∑ Telegram –¥–∞–Ω–∏—Ö
```

---

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –¢–µ—Å—Ç 1: –ù–æ–≤–µ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –ø—ñ—Å–ª—è —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó

1. –°—Ç–≤–æ—Ä—ñ—Ç—å –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –∑ –Ω–æ–º–µ—Ä–æ–º A
2. –ó–∞—Ä–µ—î—Å—Ç—Ä—É–π—Ç–µ—Å—è –≤ –±–æ—Ç—ñ –∑ –Ω–æ–º–µ—Ä–æ–º A
3. –°—Ç–≤–æ—Ä—ñ—Ç—å –¥—Ä—É–≥–µ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –∑ –Ω–æ–º–µ—Ä–æ–º A
4. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ:** –ë–æ—Ç –Ω–∞–¥—ñ—Å–ª–∞–≤ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è ‚úÖ

### –¢–µ—Å—Ç 2: –†—ñ–∑–Ω—ñ —Ñ–æ—Ä–º–∞—Ç–∏ –Ω–æ–º–µ—Ä–∞

1. –ü–µ—Ä—à–µ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è: `+380501234567`
2. –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –≤ –±–æ—Ç—ñ: `0501234567`
3. –î—Ä—É–≥–µ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è: `380501234567`
4. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ:** –°–∏—Å—Ç–µ–º–∞ —Ä–æ–∑–ø—ñ–∑–Ω–∞–ª–∞ –≤—Å—ñ —Ñ–æ—Ä–º–∞—Ç–∏ ‚úÖ

### –¢–µ—Å—Ç 3: –ü–µ—Ä—à–µ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –±–µ–∑ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó

1. –°—Ç–≤–æ—Ä—ñ—Ç—å –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è (–Ω–µ —Ä–µ—î—Å—Ç—Ä—É—é—á–∏—Å—å –≤ –±–æ—Ç—ñ)
2. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ:** –ë—Ä–æ–Ω—é–≤–∞–Ω–Ω—è —Å—Ç–≤–æ—Ä–µ–Ω–æ, –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ù–ï –Ω–∞–¥—ñ—Å–ª–∞–Ω–æ ‚úÖ
3. –ê–¥–º—ñ–Ω –æ—Ç—Ä–∏–º–∞–≤ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è ‚úÖ

---

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

–ù—ñ—á–æ–≥–æ –¥–æ–¥–∞—Ç–∫–æ–≤–æ –Ω–∞–ª–∞—à—Ç–æ–≤—É–≤–∞—Ç–∏ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ!

–û–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–∞—Ü—é—î –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—ñ—Å–ª—è –¥–µ–ø–ª–æ—é:

```bash
git add .
git commit -m "feat: –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –ø—Ä–∏–≤'—è–∑–∫–∞ Telegram –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–∏—Ö –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è—Ö"
git push origin main
```

---

## üìà –†–µ–∑—É–ª—å—Ç–∞—Ç–∏

### –î–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è:
- üòû –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –∑–∞–±—É–≤–∞–ª–∏ —Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è –∑–Ω–æ–≤—É
- üòû –ë–∞–≥–∞—Ç–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –Ω–µ –≤—ñ–¥–ø—Ä–∞–≤–ª—è–ª–æ—Å—è
- üòû –ù–∏–∑—å–∫–∞ –∑–∞–ª—É—á–µ–Ω—ñ—Å—Ç—å

### –ü—ñ—Å–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è:
- ‚úÖ –û–¥–∏–Ω —Ä–∞–∑ –∑–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞–≤—Å—è = –ø—Ä–∞—Ü—é—î –∑–∞–≤–∂–¥–∏
- ‚úÖ –í—Å—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –¥–æ—Ö–æ–¥—è—Ç—å
- ‚úÖ –í–∏—Å–æ–∫–∞ –∑–∞–ª—É—á–µ–Ω—ñ—Å—Ç—å

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä —Å–∏—Å—Ç–µ–º–∞ **—ñ–Ω—Ç–µ–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ** –ø—Ä–∏–≤'—è–∑—É—î Telegram –∞–∫–∞—É–Ω—Ç–∏ –¥–æ –±—Ä–æ–Ω—é–≤–∞–Ω—å!

**–ö–ª—é—á–æ–≤–∞ —Ñ—ñ—á–∞:** –†–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è –ø–æ—Ç—Ä—ñ–±–Ω–æ –¢–Ü–õ–¨–ö–ò –û–î–ò–ù –†–ê–ó! ‚ú®

---

**–í–µ—Ä—Å—ñ—è:** 2.1 (–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –ø—Ä–∏–≤'—è–∑–∫–∞)  
**–î–∞—Ç–∞:** 27.01.2026
